#!/bin/bash

# quickly search docs folder
# or quickly change dir to it

docs () {
    docs_dir="$HOME/repos/docs"

    if [[ "$#" == 0 ]]; then
        # no additional args given just cd dir
        cd "$docs_dir"
    else
        # loop through passed on arguments as search
        search_query="$1"

        seperator='|'

        for arg in "$@"; do
            # if arg is first arg then do nothing
            if [[ "$arg" == "$search_query" ]]; then
                continue
            fi
            # concatenate search query with seperator and new query string
            search_query="$search_query$seperator$arg"
        done

        # /* after variable as otherwise it treats the /* as a literal path
        grep --color=auto -r -E "$search_query" "$docs_dir"/*
    fi
}

docs
