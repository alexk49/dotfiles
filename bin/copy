#!/usr/bin/env bash

# taken from: https://codeberg.org/EvanHahn/dotfiles/src/commit/843b9ee13d949d346a4a73ccee2a99351aed285b/home/bin/bin/copy
# https://evanhahn.com/scripts-i-wrote-that-i-use-all-the-time/

# usage:
# run_some_command | copy
# copy < file.txt

set -e
set -u

if hash pbcopy 2>/dev/null; then
  exec pbcopy
elif hash xclip 2>/dev/null; then
  exec xclip -selection clipboard
elif hash putclip 2>/dev/null; then
  exec putclip
elif hash clip 2>/dev/null; then
  exec clip
else
  rm -f /tmp/clipboard 2> /dev/null
  if [ $# -eq 0 ]; then
    cat > /tmp/clipboard
  else
    cat "$1" > /tmp/clipboard
  fi
fi
